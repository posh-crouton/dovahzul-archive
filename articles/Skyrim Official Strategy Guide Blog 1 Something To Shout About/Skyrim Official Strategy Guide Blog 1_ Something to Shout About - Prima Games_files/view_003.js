(()=>{var e=null,t=document.getElementById("wp-block-gamurs-auth-forgot-form"),o=function(){t.style.display="flex",t.querySelector('input[name="email"]').value="",Array.from(t.querySelectorAll("label.is-error-state .wp-block-gamurs-input__helper.added")).forEach((function(e){e.remove()})),Array.from(t.querySelectorAll("label")).forEach((function(e){e.classList.remove("is-error-state"),e.classList.add("is-enabled-state")})),Array.from(t.parentElement.querySelectorAll(".wp-block-gamurs-auth-forgot__message")).forEach((function(e){e.style.display="none"})),t.parentElement.querySelector("#wp-block-gamurs-auth-forgot-go-to-login").style.display="none"};window.GAMURS_wordpress_blocks=window.GAMURS_wordpress_blocks||{},window.GAMURS_wordpress_blocks.auth=window.GAMURS_wordpress_blocks.auth||{},window.GAMURS_wordpress_blocks.auth.ui=window.GAMURS_wordpress_blocks.auth.ui||{},window.GAMURS_wordpress_blocks.auth.ui.forgot=window.GAMURS_wordpress_blocks.auth.ui.forgot||{},window.GAMURS_wordpress_blocks.auth.ui.forgot.resetState=o,t.addEventListener("submit",(async function(o){o.preventDefault(),window.clearTimeout(e),e=window.setTimeout((async function(){if(document.getElementById("wp-block-gamurs-auth-forgot-generic-error").style.display="none",Array.from(t.querySelectorAll("label.is-error-state .wp-block-gamurs-input__helper.added")).forEach((function(e){e.remove()})),Array.from(t.querySelectorAll("label")).forEach((function(e){e.classList.remove("is-error-state"),e.classList.add("is-enabled-state")})),window.GAMURS_wordpress_blocks.auth.firebase&&window.GAMURS_wordpress_blocks.auth.firebase.auth){const a=new FormData(o.target).get("email");try{await window.GAMURS_wordpress_blocks.auth.firebase.auth.sendPasswordResetEmail(a),t.style.display="none",t.querySelector('input[name="email"]').value="",document.getElementById("wp-block-gamurs-auth-forgot-success").style.display="block",t.parentElement.querySelector("#wp-block-gamurs-auth-forgot-go-to-login").style.display="block",window.snowplow&&window.snowplow("trackStructEvent",{category:"GAMURS Account",action:"Password Reset Requested"})}catch(o){var e=document.createElement("span");switch(e.classList.add("wp-block-gamurs-input__helper"),e.classList.add("added"),o.code){case"auth/invalid-email":e.innerText="Invalid email address",t.querySelector('label:has(input[name="email"])').classList.remove("is-enabled-state"),t.querySelector('label:has(input[name="email"])').classList.add("is-error-state"),t.querySelector('label:has(input[name="email"])').appendChild(e);break;case"auth/missing-email":e.innerText="No email provided",t.querySelector('label:has(input[name="email"])').classList.remove("is-enabled-state"),t.querySelector('label:has(input[name="email"])').classList.add("is-error-state"),t.querySelector('label:has(input[name="email"])').appendChild(e);break;default:document.getElementById("wp-block-gamurs-auth-forgot-generic-error").style.display="block"}}}}),200)}));var a=document.getElementById("wp-block-gamurs-auth-forgot-back");a&&a.addEventListener("click",(function(e){e.preventDefault(),o(),window.GAMURS_wordpress_blocks.auth.ui.goToLogin()}));var r=document.getElementById("wp-block-gamurs-auth-forgot-go-to-login");r&&r.addEventListener("click",(function(e){e.preventDefault(),o(),window.GAMURS_wordpress_blocks.auth.ui.goToLogin()}))})();